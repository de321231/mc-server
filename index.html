<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>MC Control Center</title>
<style>
body { background:#121212; color:#e0e0e0; font-family:sans-serif; display:flex; justify-content:center; align-items:center; height:100vh; margin:0; }
.container { background:#1e1e1e; padding:25px; border-radius:15px; text-align:center; width:300px; border:1px solid #333; }
h2 { color:#4caf50; margin-bottom:20px; }
input, button { width:100%; padding:12px; margin-bottom:15px; border-radius:8px; border:1px solid #444; background:#252525; color:white; box-sizing:border-box; cursor:pointer; }
button { font-weight:bold; transition:0.2s; }
#status-msg { margin-top:20px; font-size:13px; padding:10px; border-radius:5px; background:#000; min-height:30px; }
</style>
</head>
<body>

<div id="login-area" class="container">
<h2>ðŸ”’ MC Login</h2>
<input type="password" id="password" placeholder="Passwort...">
<button onclick="checkLogin()">Einloggen</button>
</div>

<div id="control-area" class="container" style="display:none;">
<h2>ðŸŽ® Konsole</h2>
<button onclick="sendPower('start')">AUFWECKEN</button>
<button onclick="sendPower('restart')">NEUSTART</button>
<button onclick="sendPower('stop')">STOPPEN</button>
<div id="status-msg">Bereit.</div>
</div>

<script>
const CONFIG = {
  PASSWORD: '7777',
  PROXY_URL: 'https://mccontrol-bu8apx08q-elenbergerdavid6-gmailcoms-projects.vercel.app/api/power'
};

function checkLogin(){
  if(document.getElementById('password').value===CONFIG.PASSWORD){
    document.getElementById('login-area').style.display='none';
    document.getElementById('control-area').style.display='block';
  }else alert('Falsch!');
}

async function sendPower(action){
  const msg=document.getElementById('status-msg');
  msg.innerText='Verbindung wird aufgebaut...';
  try{
    const res=await fetch(CONFIG.PROXY_URL,{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify({action})
    });
    const data=await res.json();
    msg.style.color=res.ok?'#4caf50':'#f44336';
    msg.innerText=data.message||data.error;
  }catch(err){
    msg.style.color='#f44336';
    msg.innerText='Fehler: '+err.message;
  }
}
</script>

</body>
</html>
